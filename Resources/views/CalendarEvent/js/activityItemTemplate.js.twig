{% import 'OroUIBundle::macros.html.twig' as ui %}
{% set entityClass = 'Oro\\Bundle\\CalendarBundle\\Entity\\CalendarEvent' %}
{% set entityName  = oro_entity_config_value(entityClass, 'label')|trans|raw %}
<script type="text/html" id="{{ id|e('html_attr')|raw }}">
    <div class="accordion-group">
        <div class="accordion-heading collapse<% if (!collapsed) { %> in<% } %>">
            <div class="title-item">
                <a href="#accordion-item<%= id %>" class="no-hash accordion-toggle<% if (collapsed) { %> collapsed<% } %>"></a>
                <span class="visual">
                    <i class="{{ oro_entity_config_value(entityClass, 'icon')|raw }}"></i>
                    <span>{{ oro_entity_config_value(entityClass, 'label')|trans|raw }}</span>
                    <span>{{ 'oro.activitylist.widget.logged_by'|trans({'{{ user }}': 'CalendarUser'})|raw }} <i class="date"><%= updatedAt %></i></span>
                </span>
            </div>
            <div class="actions">
                <button class="btn item-view-button"
                        title="{{ 'oro.activitylist.widget.view'|trans({'{{ entity }}': entityName})|trans|e('html_attr')|raw }}">
                    <i class="icon-eye-open hide-text">{{ 'oro.activitylist.widget.view'|trans({'{{ entity }}': entityName})|trans|e('html')|raw }}</i>
                </button>
                <button class="btn item-edit-button<% if (!editable) { %> disabled<% } %>" <% if (!editable) { %> disabled="disabled"<% } %>
                title="{{ 'oro.activitylist.widget.update'|trans({'{{ entity }}': entityName})|trans|e('html_attr')|raw }}">
                <i class="icon-edit hide-text">{{ 'oro.activitylist.widget.update'|trans({'{{ entity }}': entityName})|e('html')|raw }}</i>
                </button>
                <button class="btn item-remove-button<% if (!removable) { %> disabled<% } %>" <% if (!removable) { %> disabled="disabled"<% } %>
                title="{{ 'oro.activitylist.widget.delete'|trans|e('html_attr')|raw }}">
                <i class="icon-trash hide-text">{{ 'oro.activitylist.widget.delete'|trans|e('html')|raw }}</i>
                </button>
            </div>
            <div class="message-item">
                <div class="message"><%= subject %></div>
            </div>
        </div>
        <div class="accordion-body collapse<% if (!collapsed) { %> in<% } %>" id="accordion-item<%= id %>">
            <div class="message">
                <%= subject %>
                <% if (data != null) { %>
                <div class="control-group">
                    <label class="control-label">{{ 'oro.calendar.calendarevent.title.label'|trans|raw }}</label>
                    <div class="controls">
                        <div class="control-label"><%= data['oro.calendar.calendarevent.title.label'] %></div>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label">{{ 'oro.calendar.calendarevent.description.label'|trans|raw }}</label>
                    <div class="controls">
                        <div class="control-label"><%= data['oro.calendar.calendarevent.description.label'] %></div>
                    </div>
                </div>
                <% } %>
            </div>
        </div>
    </div>
</script>
